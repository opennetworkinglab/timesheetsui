<!--
~ Copyright 2020-present Open Networking Foundation
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~     http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<div class="card">
  <div class="card-header">
    <h2>ONF Timesheets</h2>
  </div>

  <div class="card-body">
    <h5 class="card-title">{{email}}</h5>
    <h4 class="inline"> Week: </h4>
    <span class="inline">
      <button class="btn btn-outline-primary btn-sm" (click)="changeWeek(-1); changeWeekAlreadySigned(-1)"><i
          class="fa fa-chevron-left"></i></button>
      {{currentWeekId}} || {{weeks.get(currentWeekId)?.begin | date}}
      - {{weeks.get(currentWeekId)?.end | date}}
      <button class="btn btn-outline-primary btn-sm" (click)="changeWeek(1); changeWeekAlreadySigned(1)"><i
          class="fa fa-chevron-right"></i></button>
    </span>

    <div class="img-container" id="signed" *ngIf="showPreview">
        <iframe src="https://drive.google.com/file/d/1ShMIjL7nkWce0Lq6wd3--Yd7Kk39QRs3/preview" width="640" height="480"></iframe>
<!--        <img class="align-content-center" src="https://drive.google.com/uc?export=view&id=1ShMIjL7nkWce0Lq6wd3&#45;&#45;Yd7Kk39QRs3">-->
    </div>

    <div id="notsigned" class="center-table" *ngIf="!showPreview">

      <table class="table table-responsive">

        <tbody>
          <tr>

            <td>

              <table>
                <thead>
                  <th>Day-Date</th>
                </thead>
                <tbody>
                  <tr>Darpa</tr>
                  <tr>Sick</tr>
                  <tr>Holiday</tr>
                  <tr>PTO</tr>
                  <tr>G&A</tr>
                  <tr>IR&D</tr>
              </table>

            </td>

            <td *ngFor="let d of days| keyvalue">
              <app-day [day]="d.key | date: 'EEE dd'" [email]="d.value.email" [times]="d.value.times" [darpaMins]="d.value.worked_mins"
                           [holidayMins]="d.value.holiday_min" [weekend]="isWeekend(d.key)">
              </app-day>
            </td>

          </tr>
        </tbody>

      </table>

    </div>

  <div *ngIf="showSign" class="center">
    <button type="button" class="btn btn-primary-2" (click)="sign(true)" >Sign</button>
  </div>
  <div *ngIf="!showSign" class="center">
    <button type="button" class="btn btn-primary-2" (click)="sign(false)">Unsign</button>
  </div>
</div>
</div>

